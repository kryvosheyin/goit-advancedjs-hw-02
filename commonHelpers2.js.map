{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport iziToast from 'izitoast';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst selectors = {\n  dateField: document.getElementById('datetime-picker'),\n  startButton: document.querySelector('[data-start]'),\n  timeValues: document.querySelectorAll('.value'),\n  days: document.querySelector('[data-days]'),\n  hours: document.querySelector('[data-hours]'),\n  minutes: document.querySelector('[data-minutes]'),\n  seconds: document.querySelector('[data-seconds]'),\n};\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    selectedDate = selectedDates[0];\n    if (selectedDate) {\n      if (selectedDate < currentDate()) {\n        iziToast.show({\n          timeout: 1500,\n          close: false,\n          class: 'toast',\n          title: 'Please select the date in the future',\n          titleColor: 'white',\n          backgroundColor: 'red',\n          position: 'topCenter',\n        });\n        resetTimer(timer);\n      } else {\n        selectors.startButton.disabled = false;\n      }\n    }\n  },\n};\n\nselectors.startButton.disabled = true;\nlet selectedDate;\nlet timer;\nconst currentDate = () => new Date();\n\nflatpickr(selectors.dateField, options);\n\nselectors.startButton.addEventListener('click', event => {\n  if (selectedDate) {\n    selectors.startButton.disabled = true;\n    selectors.dateField.disabled = true;\n    clearInterval(timer);\n    timer = setInterval(() => {\n      const timeDifference = selectedDate - currentDate();\n      if (timeDifference < 1000) {\n        resetTimer(timer);\n      }\n      displayTimeLeft(timeDifference);\n    }, 1000);\n  }\n});\n\nconst displayTimeLeft = time => {\n  const days = Math.floor(time / 86400000);\n  const hours = Math.floor((time % 86400000) / 3600000);\n  const minutes = Math.floor((time % 3600000) / 60000);\n  const seconds = Math.floor((time % 60000) / 1000);\n\n  selectors.days.textContent = days.toString().padStart(2, '0');\n  selectors.hours.textContent = hours.toString().padStart(2, '0');\n  selectors.minutes.textContent = minutes.toString().padStart(2, '0');\n  selectors.seconds.textContent = seconds.toString().padStart(2, '0');\n};\n\nconst resetTimer = () => {\n  clearInterval(timer);\n  selectors.timeValues.forEach(el => (el.textContent = '00'));\n  selectors.startButton.disabled = true;\n  selectors.dateField.disabled = false;\n};\n"],"names":["selectors","options","selectedDates","selectedDate","currentDate","iziToast","resetTimer","timer","flatpickr","event","timeDifference","displayTimeLeft","time","days","hours","minutes","seconds","el"],"mappings":"+IAKA,MAAMA,EAAY,CAChB,UAAW,SAAS,eAAe,iBAAiB,EACpD,YAAa,SAAS,cAAc,cAAc,EAClD,WAAY,SAAS,iBAAiB,QAAQ,EAC9C,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CAClD,EAEMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC5BC,EAAeD,EAAc,CAAC,EAC1BC,IACEA,EAAeC,KACjBC,EAAS,KAAK,CACZ,QAAS,KACT,MAAO,GACP,MAAO,QACP,MAAO,uCACP,WAAY,QACZ,gBAAiB,MACjB,SAAU,WACpB,CAAS,EACDC,EAAgB,GAEhBN,EAAU,YAAY,SAAW,GAGtC,CACH,EAEAA,EAAU,YAAY,SAAW,GACjC,IAAIG,EACAI,EACJ,MAAMH,EAAc,IAAM,IAAI,KAE9BI,EAAUR,EAAU,UAAWC,CAAO,EAEtCD,EAAU,YAAY,iBAAiB,QAASS,GAAS,CACnDN,IACFH,EAAU,YAAY,SAAW,GACjCA,EAAU,UAAU,SAAW,GAC/B,cAAcO,CAAK,EACnBA,EAAQ,YAAY,IAAM,CACxB,MAAMG,EAAiBP,EAAeC,IAClCM,EAAiB,KACnBJ,EAAgB,EAElBK,EAAgBD,CAAc,CAC/B,EAAE,GAAI,EAEX,CAAC,EAED,MAAMC,EAAkBC,GAAQ,CAC9B,MAAMC,EAAO,KAAK,MAAMD,EAAO,KAAQ,EACjCE,EAAQ,KAAK,MAAOF,EAAO,MAAY,IAAO,EAC9CG,EAAU,KAAK,MAAOH,EAAO,KAAW,GAAK,EAC7CI,EAAU,KAAK,MAAOJ,EAAO,IAAS,GAAI,EAEhDZ,EAAU,KAAK,YAAca,EAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC5Db,EAAU,MAAM,YAAcc,EAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC9Dd,EAAU,QAAQ,YAAce,EAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EAClEf,EAAU,QAAQ,YAAcgB,EAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,CACpE,EAEMV,EAAa,IAAM,CACvB,cAAcC,CAAK,EACnBP,EAAU,WAAW,QAAQiB,GAAOA,EAAG,YAAc,IAAK,EAC1DjB,EAAU,YAAY,SAAW,GACjCA,EAAU,UAAU,SAAW,EACjC"}